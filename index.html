<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>HumairaStudio.com - Creative Blog & Lifestyle</title>
  <meta name="description" content="HumairaStudio.com - Your go-to destination for creative arts, delicious recipes, lifestyle tips, and daily inspiration by Humaira." />
  <meta name="keywords" content="HumairaStudio, blog, arts crafts, recipes, lifestyle, creative, DIY, Humaira, content writing" />
  <meta name="author" content="Humaira" />

  <!-- FONTS (keep same as original) -->
  <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700&family=Dancing+Script:wght@400;600;700&display=swap" rel="stylesheet">

  <!-- Tailwind (same CDN approach as original) -->
  <script src="https://cdn.tailwindcss.com"></script>
  <script>
    tailwind.config = {
      theme: {
        extend: {
          colors: {
            // UPDATED THEME ONLY — everything else remains same
            violet: '#8A2BE2',              // primary
            babypink: '#FFB6C1',            // accent
            // carry original palette names but mapped to new colors to keep classes intact
            'soft-lavender': '#E9D8FF',
            'rose-blush': '#FFE0EA',
            'lavender-deep': '#8A2BE2',     // replaces previous purple
            'rose-deep': '#FF7FA1',
            'lavender-light': '#F7F2FF',
            'rose-light': '#FFF2F7'
          }
        }
      }
    }
  </script>

  <style>
    :root{
      --primary: #8A2BE2;   /* violet */
      --accent:  #FFB6C1;   /* baby pink */
    }
    body{font-family:'Poppins',sans-serif;min-height:100vh;background:linear-gradient(135deg, var(--soft, #F7F2FF) 0%, var(--accent,#FFB6C1) 100%)}
    .dancing-script{font-family:'Dancing Script',cursive}
    .content-card{backdrop-filter:blur(10px);background:rgba(255,255,255,.92);border:1px solid rgba(255,255,255,.3);box-shadow:0 8px 32px rgba(0,0,0,.08)}
    .hover-lift{transition:all .3s ease}
    .hover-lift:hover{transform:translateY(-8px);box-shadow:0 25px 50px -12px rgba(138, 43, 226, 0.28)}
    .gradient-text{background:linear-gradient(135deg, var(--primary), var(--accent));-webkit-background-clip:text;-webkit-text-fill-color:transparent;background-clip:text}
    .nav-link{position:relative;transition:all .3s ease}
    .nav-link:hover{color:var(--primary)}
    .nav-link::after{content:'';position:absolute;width:0;height:2px;bottom:-5px;left:50%;background:linear-gradient(135deg,var(--primary),var(--accent));transition:all .3s ease;transform:translateX(-50%)}
    .nav-link:hover::after{width:100%}
    .admin-panel{position:fixed;inset:0;background:rgba(0,0,0,.9);z-index:1000;display:none}
    .admin-content{background:#fff;border-radius:12px;max-width:920px;max-height:90vh;overflow:auto;margin:2rem auto;padding:2rem}
    .badge{display:inline-block;border-radius:9999px;padding:.25rem .6rem;font-size:.75rem;background:rgba(138,43,226,.08);color:#4A2B8A;border:1px solid rgba(138,43,226,.18)}
    .btn-primary{background:linear-gradient(135deg,var(--primary),#B266FF);color:#fff}
    .btn-accent{background:linear-gradient(135deg,#FF89B3,var(--accent));color:#4A2B8A}
    .btn{display:inline-block;padding:.75rem 1rem;border-radius:.75rem;font-weight:600}
    .input{width:100%;padding:.75rem 1rem;border-radius:.75rem;border:1px solid #e5e7eb}
  </style>
</head>
<body class="selection:bg-babypink/30">

  <!-- ADMIN LOGIN / ONBOARDING MODAL -->
  <div id="admin-login" class="admin-panel">
    <div class="admin-content">
      <div class="text-center mb-8">
        <h2 class="text-3xl font-bold gradient-text mb-2" id="adminModalTitle">Admin Login</h2>
        <p class="text-gray-600" id="adminModalSubtitle">Enter your credentials to access the admin panel</p>
      </div>

      <!-- Setup (if no admin exists) -->
      <form id="admin-setup" class="space-y-4 hidden" onsubmit="handleSetup(event)">
        <div>
          <label class="block text-gray-700 font-semibold mb-2">Create Username</label>
          <input class="input focus:outline-none focus:ring-2 focus:ring-violet" id="setup-username" required placeholder="Choose admin username" />
        </div>
        <div>
          <label class="block text-gray-700 font-semibold mb-2">Create Password</label>
          <input type="password" class="input focus:outline-none focus:ring-2 focus:ring-violet" id="setup-password" required placeholder="Choose strong password" />
        </div>
        <div class="grid gap-3 md:grid-cols-2">
          <button class="btn btn-primary" type="submit">Save Admin Account</button>
          <button class="btn bg-gray-500 text-white" type="button" onclick="closeAdminLogin()">Cancel</button>
        </div>
      </form>

      <!-- Login (if admin exists) -->
      <form id="admin-signin" class="space-y-4 hidden" onsubmit="handleSignIn(event)">
        <div>
          <label class="block text-gray-700 font-semibold mb-2">Username</label>
          <input class="input focus:outline-none focus:ring-2 focus:ring-violet" id="login-username" required placeholder="Admin username" />
        </div>
        <div>
          <label class="block text-gray-700 font-semibold mb-2">Password</label>
          <input type="password" class="input focus:outline-none focus:ring-2 focus:ring-violet" id="login-password" required placeholder="Password" />
        </div>
        <div class="grid gap-3 md:grid-cols-2">
          <button class="btn btn-primary" type="submit">Login</button>
          <button class="btn bg-gray-500 text-white" type="button" onclick="closeAdminLogin()">Cancel</button>
        </div>
      </form>
    </div>
  </div>

  <!-- ADMIN PANEL -->
  <div id="admin-panel" class="admin-panel">
    <div class="admin-content">
      <div class="flex justify-between items-center mb-6">
        <h2 class="text-3xl font-bold gradient-text">Admin Panel</h2>
        <div class="flex items-center gap-3">
          <span class="badge" id="adminUserBadge">admin</span>
          <button onclick="logout()" class="btn bg-gray-200 hover:bg-gray-300">Log out</button>
          <button onclick="closeAdminPanel()" class="text-gray-500 hover:text-gray-700 text-2xl">&times;</button>
        </div>
      </div>

      <div class="grid md:grid-cols-2 gap-4 mb-6">
        <button onclick="showCreatePost()" class="btn btn-primary">✍️ Write a Post</button>
        <button onclick="showManagePosts()" class="btn btn-accent">Manage Posts</button>
      </div>

      <div id="admin-content-area" class="space-y-6">
        <div class="text-center text-gray-600">
          <p class="text-lg">Welcome to your admin panel!</p>
          <p>Select an option above to get started.</p>
        </div>
      </div>
    </div>
  </div>

  <!-- NAVIGATION (keep structure) -->
  <nav class="fixed w-full z-50 bg-white/80 backdrop-blur-md shadow">
    <div class="container mx-auto px-6 py-4">
      <div class="flex justify-between items-center">
        <a href="#home" class="text-3xl font-bold dancing-script gradient-text" onclick="showPage('home')">HumairaStudio.com</a>
        <div class="hidden md:flex space-x-8">
          <a href="#home" class="nav-link text-gray-700 font-medium" onclick="showPage('home')">Home</a>
          <a href="#categories" class="nav-link text-gray-700 font-medium" onclick="showPage('categories')">Categories</a>
          <a href="#about" class="nav-link text-gray-700 font-medium" onclick="showPage('about')">About</a>
          <a href="#contact" class="nav-link text-gray-700 font-medium" onclick="showPage('contact')">Contact</a>
          <button onclick="showAdminLogin()" title="Admin" class="text-xs text-gray-400 hover:text-gray-600">•</button>
        </div>
        <button id="mobile-menu-btn" class="md:hidden text-gray-700 hover:text-violet">
          <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16M4 18h16"></path></svg>
        </button>
      </div>
      <div id="mobile-menu" class="hidden md:hidden mt-4 pb-4 space-y-2">
        <a href="#home" class="block py-2 text-gray-700 hover:text-violet" onclick="showPage('home')">Home</a>
        <a href="#categories" class="block py-2 text-gray-700 hover:text-violet" onclick="showPage('categories')">Categories</a>
        <a href="#about" class="block py-2 text-gray-700 hover:text-violet" onclick="showPage('about')">About</a>
        <a href="#contact" class="block py-2 text-gray-700 hover:text-violet" onclick="showPage('contact')">Contact</a>
      </div>
    </div>
  </nav>

  <!-- PAGES -->
  <main class="pt-24">
    <!-- HOME -->
    <section id="page-home" class="pb-16 min-h-[80vh]">
      <div class="container mx-auto px-6">
        <div class="text-center mb-16">
          <h1 class="text-6xl md:text-7xl font-bold dancing-script gradient-text mb-6">Welcome to HumairaStudio.com</h1>
          <p class="text-xl md:text-2xl text-gray-700 mb-8 max-w-3xl mx-auto">Your creative space for inspiration, delicious recipes, lifestyle tips, and artistic adventures</p>
        </div>

        <!-- Newsletter -->
        <div class="text-center mb-16">
          <div class="max-w-md mx-auto">
            <div class="content-card rounded-2xl p-8">
              <h3 class="text-2xl font-semibold gradient-text mb-4">Subscribe to My Newsletter</h3>
              <p class="text-gray-600 mb-6">Get the latest recipes, lifestyle tips, and creative inspiration delivered to your inbox!</p>
              <form class="space-y-4" onsubmit="handleSubscription(event)">
                <input type="email" id="newsletter-email" class="input focus:outline-none focus:ring-2 focus:ring-violet" placeholder="Enter your email address" required />
                <button type="submit" class="w-full btn btn-primary">Subscribe Now</button>
              </form>
              <div id="subscription-message" class="mt-4 text-sm hidden"></div>
            </div>
          </div>
        </div>

        <!-- About preview -->
        <div class="text-center mb-16">
          <div class="content-card rounded-2xl p-8 max-w-4xl mx-auto">
            <div class="flex flex-col md:flex-row items-center gap-6">
              <div class="md:w-1/4">
                <div class="w-32 h-32 bg-gradient-to-br from-babypink to-violet/30 rounded-full flex items-center justify-center mx-auto"><span class="text-5xl">✨</span></div>
              </div>
              <div class="md:w-3/4 text-left">
                <h3 class="text-2xl font-bold gradient-text mb-4">Hi, I'm Humaira!</h3>
                <p class="text-gray-700 mb-4 leading-relaxed">Welcome to my creative corner! I'm a passionate content creator, food enthusiast, and lifestyle blogger sharing recipes, productivity tips, and daily inspiration.</p>
                <a href="#about" onclick="showPage('about')" class="inline-block btn btn-primary">Learn More About Me →</a>
              </div>
            </div>
          </div>
        </div>

        <!-- Latest Posts Cards (auto-filled) -->
        <div class="text-center">
          <div class="content-card rounded-2xl p-8 max-w-6xl mx-auto">
            <h3 class="text-3xl font-bold gradient-text mb-8">✨ Discover My Latest Posts</h3>
            <div id="latest-posts" class="grid md:grid-cols-3 gap-6"></div>
            <div class="mt-6"><a href="#categories" onclick="showPage('categories')" class="inline-block btn btn-accent">Explore All Categories →</a></div>
          </div>
        </div>
      </div>
    </section>

    <!-- CATEGORIES HUB -->
    <section id="page-categories" class="hidden pb-16 min-h-[70vh]">
      <div class="container mx-auto px-6">
        <h2 class="text-4xl font-bold gradient-text text-center mb-10">Categories</h2>
        <p class="text-center text-gray-600 mb-10">Explore different topics and find what inspires you</p>
        <div id="category-grid" class="grid md:grid-cols-3 gap-6"></div>
      </div>
    </section>

    <!-- CATEGORY PAGE (dynamic) -->
    <section id="page-category" class="hidden pb-16 min-h-[70vh]">
      <div class="container mx-auto px-6">
        <h2 id="category-title" class="text-4xl font-bold gradient-text mb-6">Category</h2>
        <div id="category-posts" class="grid md:grid-cols-2 gap-6"></div>
      </div>
    </section>

    <!-- SINGLE POST PAGE -->
    <section id="page-post" class="hidden pb-16 min-h-[70vh]">
      <div class="container mx-auto px-6">
        <article id="post-article" class="content-card rounded-2xl p-8 max-w-3xl mx-auto"></article>
      </div>
    </section>

    <!-- ABOUT -->
    <section id="page-about" class="hidden pb-16 min-h-[60vh]">
      <div class="container mx-auto px-6 max-w-4xl">
        <h2 class="text-4xl font-bold gradient-text mb-6">About Me</h2>
        <p class="text-gray-700 leading-relaxed mb-4">Welcome to my creative corner of the internet! I'm a passionate content creator, food enthusiast, and lifestyle blogger who believes in the power of sharing stories and inspiration.</p>
        <p class="text-gray-700 leading-relaxed mb-4">As an international student, I balance studies, work, and creativity. Here I share the lessons I've learned, the recipes that comfort me, and the projects that bring joy to my daily life.</p>
        <div class="grid md:grid-cols-2 gap-6">
          <div class="content-card rounded-2xl p-6">
            <h3 class="font-semibold mb-2">What I Share</h3>
            <ul class="text-gray-700 list-disc list-inside space-y-1">
              <li>Tested recipes</li>
              <li>Student life tips</li>
              <li>DIY & creative projects</li>
              <li>Writing insights</li>
              <li>Daily inspiration</li>
            </ul>
          </div>
          <div class="content-card rounded-2xl p-6">
            <h3 class="font-semibold mb-2">Services</h3>
            <ul class="text-gray-700 list-disc list-inside space-y-1">
              <li>Content & blog writing</li>
              <li>Recipe development</li>
              <li>Lifestyle content</li>
              <li>Social media content</li>
            </ul>
          </div>
        </div>
      </div>
    </section>

    <!-- CONTACT -->
    <section id="page-contact" class="hidden pb-16 min-h-[60vh]">
      <div class="container mx-auto px-6 max-w-4xl">
        <h2 class="text-4xl font-bold gradient-text mb-4">Let's Connect!</h2>
        <p class="text-gray-700 mb-6">Ready to collaborate? I'm available for content writing, blog writing, and creative projects. Let's bring your ideas to life together! ✨</p>
        <form class="content-card rounded-2xl p-6 grid gap-4" onsubmit="event.preventDefault();alert('Thanks! Message received.');">
          <input class="input" placeholder="Your Name" required />
          <input class="input" type="email" placeholder="Your Email" required />
          <select class="input"><option>Content Writing Project</option><option>Blog Writing Services</option><option>Recipe Development</option><option>Collaboration Opportunity</option><option>General Inquiry</option></select>
          <textarea class="input min-h-[140px]" placeholder="Your Message" required></textarea>
          <button class="btn btn-primary" type="submit">Send Message ✨</button>
        </form>
      </div>
    </section>
  </main>

  <!-- FOOTER (kept) -->
  <footer class="bg-white/70 mt-8">
    <div class="container mx-auto px-6 py-10 grid md:grid-cols-3 gap-6">
      <div>
        <h3 class="font-bold mb-2">HumairaStudio.com</h3>
        <p class="text-gray-600">Your creative space for inspiration, delicious recipes, lifestyle tips, and artistic adventures.</p>
      </div>
      <div>
        <h4 class="font-semibold mb-2">Quick Links</h4>
        <ul class="space-y-1 text-gray-700">
          <li><a href="#home" onclick="showPage('home')">Home</a></li>
          <li><a href="#categories" onclick="showPage('categories')">Categories</a></li>
          <li><a href="#about" onclick="showPage('about')">About</a></li>
          <li><a href="#contact" onclick="showPage('contact')">Contact</a></li>
        </ul>
      </div>
      <div>
        <h4 class="font-semibold mb-2">Services</h4>
        <ul class="space-y-1 text-gray-700">
          <li>✍️ Content Writing</li>
          <li>Blog Writing</li>
          <li>Recipe Development</li>
          <li>Lifestyle Content</li>
        </ul>
      </div>
    </div>
    <div class="text-center text-gray-500 text-sm pb-8">© 2024 HumairaStudio.com — Spreading creativity, one post at a time ✨</div>
  </footer>

  <!-- UTIL: Templates -->
  <template id="tpl-card">
    <div class="rounded-xl p-6 hover-lift cursor-pointer bg-gradient-to-br from-babypink/50 to-violet/10">
      <h4 class="text-lg font-bold text-gray-800 mb-2"></h4>
      <p class="text-gray-600 text-sm mb-4"></p>
      <span class="text-xs text-gray-500"></span>
    </div>
  </template>

  <script>
    /* =========================
       ROUTING & PAGE DISPLAY
       ========================= */
    const PAGES = ['home','categories','category','post','about','contact'];
    function showPage(name){
      PAGES.forEach(p=>document.getElementById('page-'+p).classList.add('hidden'));
      document.getElementById('page-'+name).classList.remove('hidden');
      if(name==='categories') renderCategoryGrid();
    }
    function showCategoryPage(slug){
      const cat = CATEGORIES.find(c=>c.slug===slug);
      if(!cat) return;
      document.getElementById('category-title').textContent = cat.title;
      const wrap = document.getElementById('category-posts');
      wrap.innerHTML='';
      const posts = getPosts().filter(p=>p.category===slug).sort((a,b)=>b.created-a.created);
      posts.forEach(p=>{
        const el = document.createElement('div');
        el.className = 'content-card rounded-2xl p-6';
        el.innerHTML = `<h3 class="text-xl font-semibold mb-2">${p.title}</h3>
                        <p class="text-gray-700 mb-3 line-clamp-3">${p.content.substring(0,180)}...</p>
                        <div class="flex items-center justify-between text-sm text-gray-500"><span class="badge">${cat.title}</span><a class="text-violet" href="#" data-id="${p.id}">Read More →</a></div>`;
        el.querySelector('a').addEventListener('click', (e)=>{e.preventDefault(); showPost(p.id)});
        wrap.appendChild(el);
      });
      showPage('category');
    }
    function showPost(id){
      const p = getPosts().find(x=>x.id===id); if(!p) return;
      const catTitle = (CATEGORIES.find(c=>c.slug===p.category)||{}).title||'';
      const art = document.getElementById('post-article');
      art.innerHTML = `
        <h1 class="text-3xl md:text-4xl font-bold gradient-text mb-3">${p.title}</h1>
        <div class="text-sm text-gray-500 mb-6">
          <span class="badge">${catTitle}</span>
          <span class="ml-2">${new Date(p.created).toLocaleDateString()}</span>
        </div>
        ${p.cover ? `<img class="rounded-xl mb-6" src="${p.cover}" alt="${p.title}">`:''}
        <div class="prose max-w-none">${p.content.replace(/\n/g,'<br>')}</div>`;
      showPage('post');
    }

    /* =========================
       DATA: Categories & Posts
       ========================= */
    const CATEGORIES = [
      { title:'Creative Writing', slug:'creative-writing', blurb:'Stories, reflections, and writing craft.' },
      { title:'Lifestyle', slug:'lifestyle', blurb:'Daily routines, wellness, and balance.' },
      { title:'Recipes', slug:'recipes', blurb:'Delicious dishes from my kitchen.' },
      { title:'DIY Crafts', slug:'diy-crafts', blurb:'Creative projects and decor ideas.' },
      { title:'Student Life', slug:'student-life', blurb:'Tips and experiences as a student.' },
      { title:'Daily Inspiration', slug:'inspiration', blurb:'Motivations and reflections.' },
      { title:'Writing', slug:'writing', blurb:'Content creation insights.' }
    ];

    function getPosts(){
      const raw = localStorage.getItem('hs_posts');
      return raw? JSON.parse(raw): [];
    }
    function setPosts(arr){
      localStorage.setItem('hs_posts', JSON.stringify(arr));
    }

    // Seed default cards on home (pull latest 3)
    function renderLatest(){
      const holder = document.getElementById('latest-posts');
      holder.innerHTML='';
      const posts = getPosts().sort((a,b)=>b.created-a.created).slice(0,3);
      posts.forEach(p=>{
        const card = document.getElementById('tpl-card').content.cloneNode(true);
        card.querySelector('h4').textContent = p.title;
        card.querySelector('p').textContent = (p.content||'').substring(0,95)+'...';
        card.querySelector('span').textContent = new Date(p.created).toLocaleDateString();
        const box = card.querySelector('div');
        box.addEventListener('click', ()=>showPost(p.id));
        holder.appendChild(card);
      });
    }

    function renderCategoryGrid(){
      const grid = document.getElementById('category-grid');
      grid.innerHTML='';
      CATEGORIES.forEach(c=>{
        const el = document.createElement('div');
        el.className = 'rounded-xl p-6 hover-lift cursor-pointer bg-gradient-to-br from-babypink/40 to-violet/10';
        el.innerHTML = `<h4 class="text-lg font-bold mb-2 text-gray-800">${c.title}</h4><p class="text-gray-600 text-sm">${c.blurb}</p>`;
        el.addEventListener('click', ()=>showCategoryPage(c.slug));
        grid.appendChild(el);
      });
    }

    /* =========================
       ADMIN: Single-owner auth
       ========================= */
    const ADMIN_KEY = 'hs_admin';
    const SESSION_KEY = 'hs_session';

    async function sha256(text){
      const enc = new TextEncoder().encode(text);
      const buf = await crypto.subtle.digest('SHA-256', enc);
      return Array.from(new Uint8Array(buf)).map(b=>b.toString(16).padStart(2,'0')).join('');
    }

    function isAuthed(){ return !!localStorage.getItem(SESSION_KEY); }

    function showAdminLogin(){
      const hasAdmin = !!localStorage.getItem(ADMIN_KEY);
      document.getElementById('admin-login').style.display = 'block';
      document.getElementById('adminModalTitle').textContent = hasAdmin? 'Admin Login' : 'Create Admin Account';
      document.getElementById('adminModalSubtitle').textContent = hasAdmin? 'Enter your credentials to access the admin panel' : 'Set your username & password. Only you can edit the site.';
      document.getElementById('admin-setup').classList.toggle('hidden', hasAdmin);
      document.getElementById('admin-signin').classList.toggle('hidden', !hasAdmin);
    }
    function closeAdminLogin(){ document.getElementById('admin-login').style.display='none'; }

    async function handleSetup(e){
      e.preventDefault();
      const u = document.getElementById('setup-username').value.trim();
      const p = document.getElementById('setup-password').value;
      if(u.length<3 || p.length<6){ alert('Use a longer username and password.'); return; }
      const salt = (Math.random()+1).toString(36).slice(2);
      const hash = await sha256(p+salt);
      localStorage.setItem(ADMIN_KEY, JSON.stringify({u, salt, hash}));
      localStorage.setItem(SESSION_KEY, u);
      closeAdminLogin();
      openAdminPanel();
    }

    async function handleSignIn(e){
      e.preventDefault();
      const rec = JSON.parse(localStorage.getItem(ADMIN_KEY)||'{}');
      const u = document.getElementById('login-username').value.trim();
      const p = document.getElementById('login-password').value;
      const test = await sha256(p + (rec.salt||''));
      if(rec.u===u && rec.hash===test){
        localStorage.setItem(SESSION_KEY, u);
        closeAdminLogin();
        openAdminPanel();
      } else {
        alert('Invalid credentials');
      }
    }

    function logout(){
      localStorage.removeItem(SESSION_KEY);
      closeAdminPanel();
    }

    function openAdminPanel(){
      if(!isAuthed()){ showAdminLogin(); return; }
      document.getElementById('adminUserBadge').textContent = localStorage.getItem(SESSION_KEY);
      document.getElementById('admin-panel').style.display='block';
      showCreatePost();
    }
    function closeAdminPanel(){ document.getElementById('admin-panel').style.display='none'; }

    // Admin views
    function showCreatePost(){
      if(!isAuthed()) return showAdminLogin();
      const csel = CATEGORIES.map(c=>`<option value="${c.slug}">${c.title}</option>`).join('');
      document.getElementById('admin-content-area').innerHTML = `
        <form class="grid gap-4" onsubmit="savePost(event)">
          <div class="grid md:grid-cols-2 gap-4">
            <input class="input" id="post-title" placeholder="Post title" required />
            <select class="input" id="post-category" required>${csel}</select>
          </div>
          <input class="input" id="post-cover" placeholder="Cover image URL (optional)" />
          <textarea class="input min-h-[200px]" id="post-content" placeholder="Write your content here..." required></textarea>
          <div class="grid md:grid-cols-2 gap-3">
            <button class="btn btn-primary" type="submit">Publish Post</button>
            <button class="btn bg-gray-200" type="button" onclick="showManagePosts()">Cancel</button>
          </div>
        </form>`;
    }

    function showManagePosts(){
      if(!isAuthed()) return showAdminLogin();
      const list = getPosts().sort((a,b)=>b.created-a.created).map(p=>`
        <div class="content-card rounded-2xl p-4 flex items-start gap-3">
          <div class="flex-1">
            <div class="font-semibold">${p.title}</div>
            <div class="text-sm text-gray-500">${(CATEGORIES.find(c=>c.slug===p.category)||{}).title||p.category} • ${new Date(p.created).toLocaleString()}</div>
          </div>
          <div class="flex gap-2">
            <button class="btn bg-gray-200" onclick="editPost('${p.id}')">Edit</button>
            <button class="btn bg-red-100 text-red-700" onclick="deletePost('${p.id}')">Delete</button>
          </div>
        </div>`).join('');
      document.getElementById('admin-content-area').innerHTML = `<div class="grid gap-3">${list || '<div class=\"text-gray-500\">No posts yet.</div>'}</div>`;
    }

    function uid(){ return 'p_'+Math.random().toString(36).slice(2,10); }

    function savePost(e){
      e.preventDefault();
      const id = document.getElementById('post-id')?.value || uid();
      const title = document.getElementById('post-title').value.trim();
      const category = document.getElementById('post-category').value;
      const cover = document.getElementById('post-cover').value.trim();
      const content = document.getElementById('post-content').value.trim();
      const posts = getPosts();
      const now = Date.now();
      const existing = posts.find(p=>p.id===id);
      if(existing){ Object.assign(existing,{title,category,cover,content,updated:now}); }
      else { posts.push({id,title,category,cover,content,created:now}); }
      setPosts(posts);
      renderLatest();
      alert('Saved!');
      showManagePosts();
    }

    function editPost(id){
      const p = getPosts().find(x=>x.id===id); if(!p) return;
      const csel = CATEGORIES.map(c=>`<option value="${c.slug}" ${p.category===c.slug?'selected':''}>${c.title}</option>`).join('');
      document.getElementById('admin-content-area').innerHTML = `
        <form class="grid gap-4" onsubmit="savePost(event)">
          <input type="hidden" id="post-id" value="${p.id}">
          <div class="grid md:grid-cols-2 gap-4">
            <input class="input" id="post-title" value="${p.title.replace(/"/g,'&quot;')}" required />
            <select class="input" id="post-category" required>${csel}</select>
          </div>
          <input class="input" id="post-cover" value="${(p.cover||'').replace(/"/g,'&quot;')}" />
          <textarea class="input min-h-[200px]" id="post-content" required>${p.content.replace(/</g,'&lt;')}</textarea>
          <div class="grid md:grid-cols-2 gap-3">
            <button class="btn btn-primary" type="submit">Update Post</button>
            <button class="btn bg-gray-200" type="button" onclick="showManagePosts()">Cancel</button>
          </div>
        </form>`;
    }

    function deletePost(id){
      if(!confirm('Delete this post?')) return;
      setPosts(getPosts().filter(p=>p.id!==id));
      renderLatest();
      showManagePosts();
    }

    /* =========================
       NEWSLETTER (demo only)
       ========================= */
    function handleSubscription(e){
      e.preventDefault();
      const email = document.getElementById('newsletter-email').value.trim();
      if(!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(email)) return alert('Please enter a valid email');
      const list = JSON.parse(localStorage.getItem('hs_subs')||'[]');
      if(!list.includes(email)) list.push(email);
      localStorage.setItem('hs_subs', JSON.stringify(list));
      const msg = document.getElementById('subscription-message');
      msg.textContent = 'Thanks! You are subscribed.';
      msg.classList.remove('hidden');
      e.target.reset();
    }

    /* =========================
       SEED CONTENT — adds the requested Notion article once
       ========================= */
    (function seed(){
      const seeded = localStorage.getItem('hs_seed_v1');
      if(seeded) return;
      const posts = getPosts();
      posts.push({
        id: uid(),
        title: 'The Usage of Notion for Students',
        category: 'creative-writing',
        cover: '',
        created: Date.now()-60000,
        content: `Notion is one of the most powerful productivity tools for students. It works like a digital notebook where you can organize class notes, track assignments, and manage projects in one place. Students can create pages for different subjects, link resources, and even collaborate with classmates. Unlike traditional note-taking apps, Notion allows full customization—you can design study planners, exam schedules, or personal journals with templates. Its database feature helps students manage reading lists or research work effectively. Another benefit is accessibility—everything is synced across devices, so you can study from anywhere. For group work, shared pages allow easy communication and task division. Students who struggle with time management find Notion especially useful because it combines task lists, calendars, and reminders into one streamlined tool. By using Notion, students don’t just stay organized—they actually build a system that makes learning easier, faster, and more enjoyable.`
      });
      setPosts(posts);
      localStorage.setItem('hs_seed_v1','1');
    })();

    // INIT
    renderLatest();
    renderCategoryGrid();
    showPage('home');

    // Mobile menu
    document.getElementById('mobile-menu-btn').addEventListener('click',()=>{
      document.getElementById('mobile-menu').classList.toggle('hidden');
    });

    // Hash routing support (/#/category/slug, /#/post/id)
    window.addEventListener('hashchange', ()=>{
      const h = location.hash.replace(/^#\/?/, '');
      const [first, second] = h.split('/');
      if(first==='category' && second){ return showCategoryPage(second); }
      if(first==='post' && second){ return showPost(second); }
      if(PAGES.includes(first)) return showPage(first);
    });
  </script>
</body>
</html>
